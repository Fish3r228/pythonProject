# Обработка данных банковских карт 
Этот проект представляет собой набор функций для проверки подлинности банковских карт и их реквизитов. Основное внимание уделено фильтрации и сортировке данных по заданным критериям.

## Цель проекта

Предоставить удобные инструменты для работы с данными, которые позволяют:
- Отфильтровка номера карты и скрытие некоторых данных(get_mask_account.py)
- Сортировка карт и их владельцев по сроку годности карт(get_mask_card_number.py)
- Фильтровать данные по состоянию (`state`).(filter_by_state.py)
- Сортировать данные по дате (`date`) в порядке убывания или возрастания.(filter_by_state.py)

## Пример использования функции (filter_by_state.py)

data = [
    {'id': 321342341, 'state': 'EXECUTED', 'date': '2021-04-03T15:34:27.234234'},
    {'id': 275235213, 'state': 'PENDING', 'date': '2018-05-04T16:35:28.634634'},
    {'id': 213586794, 'state': 'EXECUTED', 'date': '2017-06-05T17:36:29.123123'},
    {'id': 125425743, 'state': 'CANCELED', 'date': '2011-07-06T18:37:30.585585'},
]

- Фильтрация по умолчанию (state='EXECUTED')
filtered_data = filter_by_state(data)
print(filtered_data)

- Фильтрация по state='PENDING'
filtered_data_pending = filter_by_state(data, 'PENDING')
print(filtered_data_pending)

## Тесты 
- Чтобы запустить все тесты, выполните следующую команду:
pytest
- Измерение покрытия кода
Для измерения покрытия кода тестами используется библиотека pytest-cov. Чтобы измерить покрытие и сгенерировать отчёт в формате HTML, выполните команду:
pytest --cov=your_module --cov-report=html tests/
Замените your_module на имя вашего модуля (например, processing).
- Просмотр отчёта
После выполнения команды отчёт будет сохранён в директории htmlcov. Откройте файл htmlcov/index.html в браузере, чтобы просмотреть результаты.
- Структура тестов
Тесты находятся в директории tests/. Каждый тестовый файл соответствует определённому модулю или функциональности. Например:
tests/test_processing.py: Тесты для модуля processing.py.
- Пример теста
def test_get_mask_account_with_spaces():
    account_number = "1234 5678 9012 3456"
    expected = "**3456"
    assert get_mask_account(account_number) == expected
- Основные команды работы с тестами:
pytest: Фреймворк для написания и запуска тестов.
pytest-cov: Плагин для измерения покрытия кода тестами.

## Generators 
Добавил примеры использования функций filter_by_currency, transaction_descriptions, card_number_generator:
- filter_by_currency
transactions = [
    {"amount": 100, "currency": "USD"},
    {"amount": 200, "currency": "EUR"},
    {"amount": 300, "currency": "USD"},
    {"amount": 400, "currency": "GBP"},
    {"amount": 500, "currency": "USD"},
]
- transaction_descriptions
transactions = [
    {"amount": 100, "currency": "USD", "description": "Покупка в магазине"},
    {"amount": 200, "currency": "EUR", "description": "Оплата ресторана"},
    {"amount": 300, "currency": "USD", "description": "Перевод другу"},
]
- card_number_generator
card_numbers = card_number_generator("0000 0000 0000 0001", "0000 0000 0000 0005")

- Для проверки тестов/ переходите в файл test_generation  и пропишите в консоли команду pytest 
## Decorators
Декораторы — это мощный инструмент в Python, который позволяет изменять или расширять поведение функций или методов без 
изменения их исходного кода. Декораторы часто используются для добавления логирования, проверки прав доступа, 
кэширования и других задач.
- Основы декораторов 
Декоратор — это функция, которая принимает другую функцию и возвращает новую функцию, обычно с измененным поведением.

Пример простого декоратора:
def my_decorator(func):
    def wrapper():
        print("Что-то происходит перед вызовом функции.")
        func()
        print("Что-то происходит после вызова функции.")
    return wrapper

@my_decorator
def say_hello():
    print("Привет!")

say_hello()

Вывод:
Что-то происходит перед вызовом функции.
Привет!
Что-то происходит после вызова функции.

- Декораторы с аргументами, если вам нужно передать аргументы в декорируемую функцию, используйте *args и **kwargs в 
определении обертки:
def my_decorator(func):
    def wrapper(*args, **kwargs):
        print("Что-то происходит перед вызовом функции.")
        result = func(*args, **kwargs)
        print("Что-то происходит после вызова функции.")
        return result
    return wrapper

@my_decorator
def greet(name):
    print(f"Привет, {name}!")

greet("Алиса")

Вывод:
Что-то происходит перед вызовом функции.
Привет, Алиса!
Что-то происходит после вызова функции.
- Заключение:
Декораторы — это мощный инструмент, который позволяет вам изменять поведение функций и методов, не изменяя их исходный 
код. Они широко используются в Python для добавления дополнительной функциональности, такой как логирование, 
кэширование, проверка прав доступа и многое другое.
## Функции для чтения транзакций
- Проект предоставляет две удобные функции для чтения данных о транзакциях из файлов: read_transactions_from_csv 
и read_transactions_from_excel. Эти функции позволяют загружать данные из CSV-файлов и Excel-таблиц соответственно.
Функция read_transactions_from_csv предназначена для чтения данных о транзакциях из CSV-файла.

- Параметры:
file_path (str): Путь к CSV-файлу.
delimiter (str, опционально): Разделитель данных в CSV-файле. По умолчанию ,.

- Возвращаемое значение:
Список словарей, где каждый словарь представляет одну транзакцию. Ключи словаря соответствуют названиям столбцов 
в CSV-файле.

- Пример использования:
transactions = read_transactions_from_csv("transactions.csv")
for transaction in transactions:
    print(transaction)
Функция read_transactions_from_excel позволяет загружать данные о транзакциях из Excel-файла.

- Параметры:
file_path (str): Путь к Excel-файлу.
sheet_name (str, опционально): Название листа в Excel-файле. По умолчанию используется первый лист.

- Возвращаемое значение:
Список словарей, где каждый словарь представляет одну транзакцию. Ключи словаря соответствуют названиям столбцов 
в Excel-файле.
- Пример использования:
transactions = read_transactions_from_excel("transactions.xlsx", sheet_name="Sheet1")
for transaction in transactions:
    print(transaction)

- Примечания:
Убедитесь, что файлы (CSV или Excel) имеют корректную структуру и заголовки столбцов.
Для работы с Excel-файлами требуется установка библиотеки pandas и openpyxl. Установите их с помощью команды:
pip install pandas openpyxl
Эти функции упрощают процесс загрузки данных и позволяют быстро начать работу с транзакциями в вашем проекте.

## Установка

1. Склонируйте репозиторий на ваш компьютер:
   ```bash
   git clone git@github.com:Fish3r228/homework_10_1.git
   